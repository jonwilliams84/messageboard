    image: node:latest

    stages:
      - build
      - test

    cache:
      paths:
        - node_modules/

    build_app:
      stage: build
      script:
        - npm install --progress=false
        - npm run build
      artifacts:
        paths:
          - node_modules/
          - build/
        expire_in: 1 day
        paths:
          - dist
          
    testing_testing:
      stage: test
      script: npm test